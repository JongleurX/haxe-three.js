#+TITLE: Haxe externs for three.js
* About
Haxe externs for [[https://github.com/mrdoob/three.js][three.js]] (release 47).

Please fork and contribute as I may not maintain it in the long run :)

If you meet me, buy me a beer. If you don't think you are going to meet me and think about a little donation so I can buy my Humble Bundles :)

<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/fr_FR/i/scr/pixel.gif" width="1" height="1">
</form>

Laurent
* Install
: haxelib install three.js
* Dev install
: git clone git@github.com:labe-me/haxe-three.js.git
: zip -r haxe-three.js.zip haxe-three.js
: haxelib test haxe-three.js.zip
: haxelib dev three.js `pwd`/haxe-three.js
* Usage

Regular usage will embed three.js minified javascript:

: haxe -lib three.js ...

Debug compilation will embed non-minified javascript (easier to debug):

: haxe -lib three.js -debug ...

To avoid embedding javascript (don't forget to include three.js javascript manually inside your HTML):

: haxe -lib three.js -DnoEmbedJS ...

Take a look at the [[https://github.com/labe-me/haxe-three.js/tree/master/examples][examples]] for some code ported from original three.js examples.

* Todo list
** TODO Test api
** TODO Integrate RequestAnimationFrame
** TODO More work on Collada API part
** TODO More TODOs in Three.hx
* Notes
Haxe modify some javascript prototypes and create a few incompatibilites.

Here's a list of things to care about:

- Array prototype is modified which affect the "for v in someArray" javascript behaviour
- Date.now is overriden by haxe, the new method returns a Date object instead of the regular time stamp, this is bad and must be adressed.

*Important:* The three.js haxelib package provides a modified Date.hx and haxe/Timer.hx to fix the Date.now() problem.
